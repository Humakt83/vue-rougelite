(function(e){function t(t){for(var o,i,l=t[0],s=t[1],c=t[2],f=0,h=[];f<l.length;f++)i=l[f],r[i]&&h.push(r[i][0]),r[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);u&&u(t);while(h.length)h.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,l=1;l<n.length;l++){var s=n[l];0!==r[s]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},r={app:0},a=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2b3d":function(e,t,n){"use strict";var o=n("2de2"),r=n.n(o);r.a},"2de2":function(e,t,n){},4565:function(e,t,n){},"4c6a":function(e,t,n){},"4cb0":function(e,t,n){"use strict";var o=n("4c6a"),r=n.n(o);r.a},"56d7":function(e,t,n){"use strict";n.r(t);var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Main")],1)},a=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main"},[n("div",{staticClass:"levelArea"},[n("Level",{attrs:{level:e.level}})],1),n("div",{staticClass:"infoArea"},[n("Info",{attrs:{player:e.player}})],1),n("div",{staticClass:"commandsArea"},[n("Commands",{on:{move:e.move}})],1),n("div",{staticClass:"logArea"},[n("Log",{attrs:{gameLog:e.gameLog}})],1),e.player.health<=0?n("GameOver"):e._e(),e.victory?n("Victory"):e._e()],1)},l=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"level",style:{"background-color":e.color}},e._l(e.tiles,function(t,o){return n("div",{key:o,staticClass:"tile"},[n("span",[e._v(e._s(t.type))]),t.animation?[n("span",{staticClass:"animation"},[e._v("💥")])]:e._e()],2)}),0)},c=[],u=function(e,t){return e.isDoor?t.doorSymbol:e.isWall?t.wallSymbol:e.content?e.content.isPlayer?"🏃":e.content.symbol:"."},f=function(e){for(var t=[],n=30,o=13,r=0;r<o;r++)for(var a=0;a<n;a++){var i=e.getTile(a,r);t.push({type:u(i,e.environment),animation:i.animation})}return t},h={name:"Level",props:["level"],computed:{tiles:function(){return f(this.level)},color:function(){return this.level.environment.floorColor}}},v=h,d=(n("8efc"),n("2877")),m=Object(d["a"])(v,s,c,!1,null,"daa4d500",null),p=m.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Info"},[e.player.health>0?[n("Stats",{attrs:{player:e.player}}),n("Inventory",{attrs:{inventory:e.player.inventory,player:e.player}})]:[n("h1",[e._v("DÖÖD")])]],2)},b=[],g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"inventory"},[n("h3",[e._v("Inventory")]),n("div",{staticClass:"paperdoll"},[n("div",{staticClass:"head",class:{selectable:e.headSelectable},on:{click:function(t){return e.move("head")}}},[e.inventory.head?n("span",[e._v("\n        "+e._s(e.inventory.head.symbol)+"\n      ")]):n("i",{staticClass:"fas fa-hard-hat"})]),n("div",{staticClass:"hand hand--left",class:{selectable:e.handSelectable},on:{click:function(t){return e.move("hand","left")}}},[e.inventory.lefthand?n("span",[e._v("\n        "+e._s(e.inventory.lefthand.symbol)+"\n      ")]):n("i",{staticClass:"far fa-hand-paper"})]),n("div",{staticClass:"torso",class:{selectable:e.torsoSelectable},on:{click:function(t){return e.move("torso")}}},[e.inventory.torso?n("span",[e._v("\n        "+e._s(e.inventory.torso.symbol)+"\n      ")]):n("i",{staticClass:"fas fa-tshirt"})]),n("div",{staticClass:"hand hand--right",class:{selectable:e.handSelectable},on:{click:function(t){return e.move("hand","right")}}},[e.inventory.righthand?n("span",[e._v("\n        "+e._s(e.inventory.righthand.symbol)+"\n      ")]):n("i",{staticClass:"far fa-hand-paper"})]),n("div",{staticClass:"feet",class:{selectable:e.feetSelectable},on:{click:function(t){return e.move("feet")}}},[e.inventory.feet?n("span",[e._v("\n        "+e._s(e.inventory.feet.symbol)+"\n      ")]):n("i",{staticClass:"fas fa-shoe-prints"})])]),n("div",{staticClass:"backpack"},e._l(e.inventory.backpack,function(t,o){return n("div",{key:o,staticClass:"backpackSlot",class:{selected:o===e.selected},on:{click:function(n){return e.select(t,o)}}},[n("span",[e._v(e._s(t.symbol))])])}),0)])},_=[],x=(n("6762"),n("2fdb"),{props:["inventory","player"],data:function(){return{selected:void 0,selectedItem:void 0}},computed:{headSelectable:function(){return this.selectableBodySlot("head")},torsoSelectable:function(){return this.selectableBodySlot("torso")},handSelectable:function(){return this.selectableBodySlot("hand")},feetSelectable:function(){return this.selectableBodySlot("feet")}},methods:{select:function(e,t){this.selectedItem===e&&this.selected===t?this.unselect():(this.selected=t,this.selectedItem=e)},selectableBodySlot:function(e){return!(!this.selectedItem||void 0===this.selected)&&("consumable"===this.selectedItem.itemType||e.includes(this.selectedItem.slot))},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!this.selectableBodySlot(e))return!1;void 0!==this.selected&&this.inventory.backpack.splice(this.selected,1),this.inventory[t+this.selectedItem.slot]&&this.inventory.backpack.push(this.inventory[t+this.selectedItem.slot]),"consumable"===this.selectedItem.itemType?this.selectedItem.effect(this.player):this.inventory[t+this.selectedItem.slot]=this.selectedItem,this.unselect()},unselect:function(){this.selectedItem=void 0,this.selected=void 0}}}),k=x,w=(n("bb6e"),Object(d["a"])(k,g,_,!1,null,"2092bff2",null)),M=w.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"inventory"},[n("h3",[e._v("Stats")]),n("ul",[n("li",[e._v("Level: "+e._s(e.player.level)+" ("+e._s(e.player.experience)+"/1000)")]),n("li",[e._v("Health: "+e._s(e.player.health))]),n("li",[e._v("Attack: "+e._s(e.player.attack))]),n("li",[e._v("Defense: "+e._s(e.player.defense))]),n("li",[e._v("Damage: "+e._s(e.player.minDamage)+"-"+e._s(e.player.maxDamage))])])])},S=[],T={props:["player"]},D=T,P=Object(d["a"])(D,C,S,!1,null,"ca9e7882",null),O=P.exports,B={props:["player"],components:{Inventory:M,Stats:O}},I=B,j=Object(d["a"])(I,y,b,!1,null,"5bfdd9d1",null),L=j.exports,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"log"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.logToString,expression:"logToString"}],staticClass:"logArea",attrs:{disabled:""},domProps:{value:e.logToString},on:{input:function(t){t.target.composing||(e.logToString=t.target.value)}}})])},E=[],$=(n("ac6a"),{props:["gameLog"],computed:{logToString:function(){var e="";return this.gameLog.forEach(function(t){e+=t,e+="\n"}),e}}}),H=$,W=(n("2b3d"),Object(d["a"])(H,A,E,!1,null,"3c68f741",null)),G=W.exports,K=(n("0b21"),n("5d73")),N=n.n(K),V=function(){return{maxHealth:100,health:100,defense:10,attack:10,level:1,experience:0,maxDamage:20,minDamage:5,winner:!1,inventory:{head:void 0,torso:void 0,lefthand:void 0,righthand:void 0,feet:void 0,backpack:[]},isPlayer:!0,getDefense:function(){var e=[this.inventory.head,this.inventory.torso,this.inventory.lefthand,this.inventory.righthand,this.inventory.feet].filter(function(e){return!!e}).map(function(e){return 0|e.defenseBonus}).reduce(function(e,t){return e+t},0),t=1+e/100;return this.defense*t},getAttack:function(){var e=[this.inventory.lefthand,this.inventory.righthand].filter(function(e){return!!e}).map(function(e){return 0|e.attackBonus}).reduce(function(e,t){return e+t},0),t=1+e/100;return this.attack*t}}},J=(n("7514"),n("2ef0")),R=function(e,t,n,o,r,a,i){var l=e+t+n+r+a;return{attack:e,defense:t,health:n,minDamage:r,maxDamage:a,monsterType:o,experience:l,symbol:i}},U=function(){return R(10,1,20,"snake",10,20,"🐍")},q=function(){return R(3,10,30,"turtle",5,10,"🐢")},z=function(){return R(8,15,50,"gorilla",5,15,"🐒")},F=function(){return R(15,7,40,"tiger",15,20,"🐅")},Q=function(){return R(1,1,5,"poo",1,2,"💩")},X=function(){return R(5,30,5,"ghost",1,5,"👻")},Y=function(){return R(10,10,25,"alien",10,20,"👽")},Z=function(){return R(15,15,50,"robot",15,25,"🤖")},ee=function(){var e=[q,U,F,z,Y,Q,Z,X];return e[Math.floor(Math.random()*e.length)]()},te=function(){return{attackBonus:50,defenseBonus:15,itemType:"weapon",slot:"hand",symbol:"🗡"}},ne=function(){return{attackBonus:75,itemType:"weapon",slot:"hand",symbol:"🔨"}},oe=function(){var e=[te,ne];return e[Math.floor(Math.random()*e.length)]()},re=function(){return{defenseBonus:50,itemType:"armor",slot:"torso",symbol:"👘"}},ae=function(){return{defenseBonus:20,itemType:"armor",slot:"torso",symbol:"👗"}},ie=function(){return{defenseBonus:40,itemType:"armor",slot:"torso",symbol:"👕"}},le=function(){return{defenseBonus:20,itemType:"armor",slot:"hand",symbol:"🛡"}},se=function(){return{defenseBonus:10,itemType:"armor",slot:"hand",symbol:"💿"}},ce=function(){return{defenseBonus:15,itemType:"armor",slot:"head",symbol:"🎩"}},ue=function(){return{defenseBonus:15,itemType:"armor",slot:"feet",symbol:"👟"}},fe=function(){var e=[re,ce,ue,se,ae,ie,le];return e[Math.floor(Math.random()*e.length)]()},he=function(){return{itemType:"consumable",effect:function(e){e.health=Math.min(e.maxHealth,e.health+50)},symbol:"🍺"}},ve=function(){return{itemType:"consumable",effect:function(e){e.health=Math.min(e.maxHealth,e.health+20)},symbol:"☕"}},de=function(){var e=[ve,he];return e[Math.floor(Math.random()*e.length)]()},me=[{env:"forest",floorColor:"lightgreen",wallSymbol:"🌳",doorSymbol:"🚪"},{env:"spaceship",floorColor:"lightgrey",wallSymbol:"🚀",doorSymbol:"🚻"},{env:"desert",floorColor:"lightyellow",wallSymbol:"🔥",doorSymbol:"🚪"},{env:"snow",floorColor:"snow",wallSymbol:"🎄",doorSymbol:"🚪"}],pe=2,ye=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{content:void 0,x:e,y:t,isWall:n,isDoor:o}},be=function(e,t,n){return e.find(function(e){return e.x===t&&e.y===n})},ge=function(e,t){var n=t.x,o=t.y;return[be(e,n+1,o),be(e,n-1,o),be(e,n,o-1),be(e,n,o+1)].filter(function(e){return!!e})},_e=function e(t,n,o,r){var a=Math.floor(Math.random()*o),i=Math.floor(Math.random()*r),l=be(t,a,i);l.isWall||l.content||l.isDoor?e(t,n,o,r):l.content=n},xe=function(e,t,n){for(var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=2,a=1,i=3,l=e*t/Math.max(10,Math.floor(20*Math.random())),s=[],c=0;c<e;c++)for(var u=0;u<t;u++)s.push(ye(c,u));be(s,1,1).content=n;var f=!1;while(!f){var h=Math.floor(Math.random()*s.length);s[h].content||(s[h].isDoor=!0,f=!0)}for(var v=0;v<l;v++){var d=Math.floor(Math.random()*s.length);s[d].content||s[d].isDoor||(s[d].isWall=!0)}var m=500*o;while(m>0){var p=ee();m-=p.experience,_e(s,p,e,t)}for(var y=0;y<r;y++)_e(s,fe(),e,t);for(var b=0;b<a;b++)_e(s,oe(),e,t);for(var g=0;g<i;g++)_e(s,de(),e,t);o>=pe&&_e(s,{symbol:"💰",type:"treasure"},e,t);var _=function(){return J["chain"](s).find(function(e){return e.content&&!!e.content.isPlayer}).value()},x=function(){return J["chain"](s).filter(function(e){return e.content&&e.content.health&&!e.content.isPlayer}).value()},k=me[Math.floor(Math.random()*me.length)];return{level:s,environment:k,getPlayerPosition:_,getTile:function(e,t){return be(this.level,e,t)},getMonsterPositions:x,getNeighbors:function(e){return ge(this.level,e)}}},ke=function(e,t,n){var o=e.getAttack?e.getAttack():e.attack,r=t.getDefense?t.getDefense():t.defense,a=o/r,i=Math.floor(Math.max(1,Math.max(e.minDamage,Math.floor(Math.random()*e.maxDamage))*a));t.health-=i,n.unshift(t.isPlayer?"Player received ".concat(i," damage from ").concat(e.monsterType,"."):"Player dealt ".concat(i," to ").concat(t.monsterType,"."))},we=30,Me=13,Ce=V(),Se=1,Te=function(){return xe(we,Me,Ce,Se++)},De=Te(),Pe=["Welcome weary traveler!"],Oe=function(e){return!e.isWall&&!e.isDoor&&!e.content},Be=function(e){return e.content&&e.content.health},Ie=function(e){return e.content&&e.content.itemType},je=function(e){return e.content&&"treasure"===e.content.type},Le=function(e,t){t.content=e.content,e.content=void 0},Ae=function(e,t){var n=t.content;e.inventory.backpack.push(n);var o="consumable"!==n.itemType?"(defense bonus: ".concat(0|n.defenseBonus,", attack bonus: ").concat(0|n.attackBonus,")"):"";Pe.unshift("Picked up ".concat(n.symbol," ").concat(o)),t.content=void 0},Ee=function(e,t,n){var o=e.x,r=e.y,a=void 0,i=void 0,l=!0,s=!1,c=void 0;try{for(var u,f=N()(t);!(l=(u=f.next()).done);l=!0){var h=u.value,v=Math.abs(h.x-o)+Math.abs(h.y-r);n>=v&&(!i||v<i)&&(a=h,i=v)}}catch(d){s=!0,c=d}finally{try{l||null==f.return||f.return()}finally{if(s)throw c}}return a},$e=function(e,t){ke(e.content,t.content,Pe),He(t),t.content.health<=0&&(t.content=void 0,Pe.unshift("GAME OVER!!!"))},He=function(e){e.animation={triggerAttack:!0},setTimeout(function(){return e.animation=void 0},100)},We=function(e,t){var n=Math.floor(10*Math.random())>=5,o=Math.sign(Math.floor(10*Math.random())-5),r=n?o:0,a=n?0:o,i=e.getTile(t.x+r,t.y+a);i&&Oe(i)&&Le(t,i)},Ge=function(e){var t=e.getPlayerPosition();e.getMonsterPositions().forEach(function(n){var o=e.getNeighbors(n).filter(function(e){return t===e||Oe(e)}),r=o.some(function(e){return e===t});if(r)$e(n,t);else{var a=Ee(t,o,3);a?Le(n,a):We(e,n)}})},Ke=function(e,t){e.unshift("Congratulations, you gained level!"),t.level++,t.maxHealth+=10,t.attack++,t.defense++,t.health=t.maxHealth,t.maxDamage++,t.experience-=1e3};function Ne(e,t,n,o,r){var a=void 0,i=e.getTile(n.x+o,n.y+r);if(Oe(i))Le(n,i),Ge(e);else if(i.isDoor)a=Te();else if(Ie(i))Ae(t,i);else if(je(i))t.winner=!0;else if(Be(i)){ke(t,i.content,Pe),He(i);var l=i.content;l.health<=0&&(Pe.unshift("Monstrous ".concat(l.monsterType," defeated. Gained ").concat(l.experience," experience.")),t.experience+=i.content.experience,t.experience>=1e3&&Ke(Pe,t),i.content=void 0),Ge(e)}return{level:a}}var Ve=function(){return{level:De,move:function(e){if(this.player.health<=0)return{};var t=this.level.getPlayerPosition();return"left"===e&&t.x>0?Ne(this.level,this.player,t,-1,0):"right"===e&&t.x<we-1?Ne(this.level,this.player,t,1,0):"down"===e&&t.y<Me-1?Ne(this.level,this.player,t,0,1):"up"===e&&t.y>0?Ne(this.level,this.player,t,0,-1):void 0},player:Ce,gameLog:Pe}},Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"commands"},[n("i",{staticClass:"fas fa-arrow-alt-circle-up",on:{click:function(t){return e.up()}}}),n("i",{staticClass:"fas fa-arrow-alt-circle-left",on:{click:function(t){return e.left()}}}),n("i",{staticClass:"fas fa-arrow-alt-circle-down",on:{click:function(t){return e.down()}}}),n("i",{staticClass:"fas fa-arrow-alt-circle-right",on:{click:function(t){return e.right()}}})])},Re=[],Ue={methods:{left:function(e){this.$emit("move","left")},right:function(e){this.$emit("move","right")},down:function(e){this.$emit("move","down")},up:function(e){this.$emit("move","up")}}},qe=Ue,ze=(n("6f39"),Object(d["a"])(qe,Je,Re,!1,null,"b848827a",null)),Fe=ze.exports,Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"curtain"},[e._v("\n  💀💀💀💀💀💀\n")])},Xe=[],Ye={},Ze=Ye,et=(n("e6f1"),Object(d["a"])(Ze,Qe,Xe,!1,null,"de9325da",null)),tt=et.exports,nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"curtain"},[e._v("\n  ✨✨✨😃😁😉😍😘😜😏💩✨✨✨\n")])},ot=[],rt={},at=rt,it=(n("e044"),Object(d["a"])(at,nt,ot,!1,null,"bfb903ba",null)),lt=it.exports,st=Ve(),ct={ArrowLeft:function(){return st.move("left")},ArrowRight:function(){return st.move("right")},ArrowUp:function(){return st.move("up")},ArrowDown:function(){return st.move("down")}},ut={data:function(){return{level:st.level,player:st.player,gameLog:st.gameLog}},components:{Level:p,Info:L,Log:G,Commands:Fe,GameOver:tt,Victory:lt},mounted:function(){var e=this;window.addEventListener("keydown",function(t){var n=t.key,o=t.shiftKey,r=t.ctrlKey,a=t.altKey,i=o||r||a;if(!i&&ct.hasOwnProperty(n)&&"function"===typeof ct[n]){var l=ct[n];e.changeLevel(l())}})},computed:{victory:function(){return!!this.player.winner}},methods:{move:function(e){var t=st.move(e);this.changeLevel(t)},changeLevel:function(e){e.level&&(this.level=e.level,st.level=e.level)}}},ft=ut,ht=(n("4cb0"),Object(d["a"])(ft,i,l,!1,null,"2ee43df4",null)),vt=ht.exports,dt={name:"app",components:{Main:vt}},mt=dt,pt=(n("5c0b"),Object(d["a"])(mt,r,a,!1,null,null,null)),yt=pt.exports,bt=n("2f62");o["a"].use(bt["a"]);var gt=new bt["a"].Store({state:{},mutations:{},actions:{}});n("becf");o["a"].config.productionTip=!1,new o["a"]({store:gt,render:function(e){return e(yt)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var o=n("5e27"),r=n.n(o);r.a},"5e27":function(e,t,n){},"6f39":function(e,t,n){"use strict";var o=n("7cfa"),r=n.n(o);r.a},"7cfa":function(e,t,n){},"8efc":function(e,t,n){"use strict";var o=n("dd3d"),r=n.n(o);r.a},bb6e:function(e,t,n){"use strict";var o=n("d14f"),r=n.n(o);r.a},d14f:function(e,t,n){},dd3d:function(e,t,n){},e044:function(e,t,n){"use strict";var o=n("fbbc"),r=n.n(o);r.a},e6f1:function(e,t,n){"use strict";var o=n("4565"),r=n.n(o);r.a},fbbc:function(e,t,n){}});
//# sourceMappingURL=app.2b17f768.js.map